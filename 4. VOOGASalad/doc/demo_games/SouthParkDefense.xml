<?xml version="1.0" encoding="UTF-8" ?>
<GameConfiguration>

    <LevelSequence>0 1</LevelSequence>
    <GameTitle>South Park Defense</GameTitle>

    <GameCondition>
        <ConditionId>0</ConditionId>
        <Type>CurrentLevelWonCondition</Type>
        <Parameters>
            <Classification>CONTINUOUS</Classification>
        </Parameters>
        <Actions>
            <Action>
                <Type>AdvanceToNextLevelAction</Type>
            </Action>
        </Actions>
    </GameCondition>

    <SpritePrototype>
        <Properties>
            <PrototypeId>0</PrototypeId>
            <Width>100</Width>
            <Height>100</Height>
            <ImagePath>cartman.png</ImagePath>
            <Archetype>TOWER</Archetype>
        </Properties>
        <Strategies>
            <AttackStrategy>
                <Type>ShootingAttack</Type>
                <Parameters>
                    <AttackRate>0.5</AttackRate>
                    <BulletPrototypeId>1</BulletPrototypeId>
                </Parameters>
            </AttackStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>100</CreateCost>
                    <DestroyCost>25</DestroyCost>
                </Parameters>
            </CostStrategy>
            <RotationStrategy>
                <Type>FullRotation</Type>
                <Parameters>
                    <RotationSpeed>100</RotationSpeed>
                </Parameters>
            </RotationStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>1</PrototypeId>
            <Width>30</Width>
            <Height>30</Height>
            <ImagePath>fireball.png</ImagePath>
            <Archetype>PROJECTILE</Archetype>
        </Properties>
        <Strategies>
            <MovementStrategy>
                <Type>DirectedDistanceMovement</Type>
                <Parameters>
                    <Distance>200</Distance>
                    <Speed>1.5</Speed>
                </Parameters>
            </MovementStrategy>
            <EffectStrategy>
                <Type>TickHealthEffect</Type>
                <Parameters>
                    <DamageValue>1</DamageValue>
                    <TickCount>5</TickCount>
                    <TickDelay>0.5</TickDelay>
                </Parameters>
            </EffectStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>2</PrototypeId>
            <Width>100</Width>
            <Height>100</Height>
            <ImagePath>kenny.png</ImagePath>
            <Archetype>TOWER</Archetype>
        </Properties>
        <Strategies>
            <AttackStrategy>
                <Type>ShootingAttack</Type>
                <Parameters>
                    <AttackRate>1</AttackRate>
                    <BulletPrototypeId>3</BulletPrototypeId>
                </Parameters>
            </AttackStrategy>
            <RotationStrategy>
                <Type>LimitedRotation</Type>
                <Parameters>
                    <RotationRange>0,180</RotationRange>
                    <RotationSpeed>100</RotationSpeed>
                </Parameters>
            </RotationStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>50</CreateCost>
                    <DestroyCost>20</DestroyCost>
                </Parameters>
            </CostStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>3</PrototypeId>
            <Width>30</Width>
            <Height>30</Height>
            <ImagePath>bomb.png</ImagePath>
            <Archetype>PROJECTILE</Archetype>
        </Properties>
        <Strategies>
            <MovementStrategy>
                <Type>DirectedDistanceMovement</Type>
                <Parameters>
                    <Distance>250</Distance>
                    <Speed>1</Speed>
                </Parameters>
            </MovementStrategy>
            <EffectStrategy>
                <Type>ChunkAreaEffect</Type>
                <Parameters>
                    <DamageValue>3</DamageValue>
                    <Radius>75</Radius>
                </Parameters>
            </EffectStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>4</PrototypeId>
            <Width>50</Width>
            <Height>50</Height>
            <ImagePath>cop.png</ImagePath>
            <Archetype>ENEMY</Archetype>
        </Properties>
        <Strategies>
            <HealthStrategy>
                <Type>Health</Type>
                <Parameters>
                    <HealthValue>5</HealthValue>
                </Parameters>
            </HealthStrategy>
            <MovementStrategy>
                <Type>PathMovement</Type>
                <Parameters>
                    <Path>190,150</Path>
                    <Speed>50</Speed>
                </Parameters>
            </MovementStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>0</CreateCost>
                    <DestroyCost>15</DestroyCost>
                </Parameters>
            </CostStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>5</PrototypeId>
            <Width>50</Width>
            <Height>50</Height>
            <ImagePath>zombie1.png</ImagePath>
            <Archetype>ENEMY</Archetype>
        </Properties>
        <Strategies>
            <HealthStrategy>
                <Type>Health</Type>
                <Parameters>
                    <HealthValue>7</HealthValue>
                </Parameters>
            </HealthStrategy>
            <MovementStrategy>
                <Type>PathMovement</Type>
                <Parameters>
                    <Path>190,150</Path>
                    <Speed>90</Speed>
                </Parameters>
            </MovementStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>0</CreateCost>
                    <DestroyCost>30</DestroyCost>
                </Parameters>
            </CostStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>6</PrototypeId>
            <Width>100</Width>
            <Height>100</Height>
            <ImagePath>tweek.png</ImagePath>
            <Archetype>TOWER</Archetype>
        </Properties>
        <Strategies>
            <AttackStrategy>
                <Type>ShootingAttack</Type>
                <Parameters>
                    <AttackRate>0.5</AttackRate>
                    <BulletPrototypeId>7</BulletPrototypeId>
                </Parameters>
            </AttackStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>100</CreateCost>
                    <DestroyCost>25</DestroyCost>
                </Parameters>
            </CostStrategy>
            <RotationStrategy>
                <Type>FullRotation</Type>
                <Parameters>
                    <RotationSpeed>200</RotationSpeed>
                </Parameters>
            </RotationStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>7</PrototypeId>
            <Width>30</Width>
            <Height>30</Height>
            <ImagePath>lightning.png</ImagePath>
            <Archetype>PROJECTILE</Archetype>
        </Properties>
        <Strategies>
            <MovementStrategy>
                <Type>DirectedDistanceMovement</Type>
                <Parameters>
                    <Distance>200</Distance>
                    <Speed>1.5</Speed>
                </Parameters>
            </MovementStrategy>
            <EffectStrategy>
                <Type>ChunkHealthEffect</Type>
                <Parameters>
                    <DamageValue>6</DamageValue>
                </Parameters>
            </EffectStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>8</PrototypeId>
            <Width>50</Width>
            <Height>50</Height>
            <ImagePath>kyle1.png</ImagePath>
            <Archetype>ENEMY</Archetype>
        </Properties>
        <Strategies>
            <HealthStrategy>
                <Type>Health</Type>
                <Parameters>
                    <HealthValue>5</HealthValue>
                </Parameters>
            </HealthStrategy>
            <MovementStrategy>
                <Type>PathMovement</Type>
                <Parameters>
                    <Path>190,150</Path>
                    <Speed>110</Speed>
                </Parameters>
            </MovementStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>0</CreateCost>
                    <DestroyCost>20</DestroyCost>
                </Parameters>
            </CostStrategy>
        </Strategies>
    </SpritePrototype>

    <SpritePrototype>
        <Properties>
            <PrototypeId>9</PrototypeId>
            <Width>50</Width>
            <Height>50</Height>
            <ImagePath>stan1.png</ImagePath>
            <Archetype>ENEMY</Archetype>
        </Properties>
        <Strategies>
            <HealthStrategy>
                <Type>Health</Type>
                <Parameters>
                    <HealthValue>7</HealthValue>
                </Parameters>
            </HealthStrategy>
            <MovementStrategy>
                <Type>PathMovement</Type>
                <Parameters>
                    <Path>190,150</Path>
                    <Speed>120</Speed>
                </Parameters>
            </MovementStrategy>
            <CostStrategy>
                <Type>BasicCost</Type>
                <Parameters>
                    <CreateCost>0</CreateCost>
                    <DestroyCost>25</DestroyCost>
                </Parameters>
            </CostStrategy>
        </Strategies>
    </SpritePrototype>

    <Level>
        <LevelId>0</LevelId>
        <Resources>500</Resources>
        <Lives>20</Lives>
        <BackgroundImage>southpark.png</BackgroundImage>
        <AvailablePrototypes>0 2 4 5 8 9</AvailablePrototypes>

        <Wave>
            <Queue>4 5 4 4 5 4 4 4 9 4 4</Queue>
            <Interval>2</Interval>
            <SpawnPointX>0</SpawnPointX>
            <SpawnPointY>560</SpawnPointY>
            <Path>72,560;148,561;244,561;362,562;460,565;542,565;630,564;675,560;725,528;735,500;740,483;668,484;576,483;464,489;413,490;124,489;67,486;62,429;66,383</Path>
        </Wave>

        <Wave>
            <Queue>4 4 5 4 9 4 5 4 4 9 5 4 8 4 8 5 9 9 4 9 5 4 9 4 5 4 9 8 4 5 4 4 9 5 4 8 4 5 4 8 4 5 9 4 4 9 5</Queue>
            <Interval>1</Interval>
            <SpawnPointX>0</SpawnPointX>
            <SpawnPointY>560</SpawnPointY>
            <Path>72,560;148,561;244,561;362,562;460,565;542,565;630,564;675,560;725,528;735,500;740,483;668,484;576,483;464,489;413,490;124,489;67,486;62,429;66,383</Path>
        </Wave>



        <SoundFile>southparkintro.mp3</SoundFile>

        <Condition>
            <ConditionId>0</ConditionId>
            <Type>OnscreenArchetypeCountCondition</Type>
            <Parameters>
                <MarkedCount>0</MarkedCount>
                <Archetype>ENEMY</Archetype>
                <Classification>CONTINUOUS</Classification>
            </Parameters>
            <Actions>
                <Action>
                    <Type>SpawnWaveAction</Type>
                </Action>
            </Actions>
        </Condition>
        <Condition>
            <ConditionId>2</ConditionId>
            <Type>EnemiesClearedCondition</Type>
            <Parameters>
            </Parameters>
            <Actions>
                <Action>
                    <Type>WinLevelAction</Type>
                </Action>
            </Actions>
        </Condition>
        <Condition>
            <ConditionId>3</ConditionId>
            <Type>LivesCountCondition</Type>
            <Parameters>
                <MarkedCount>0</MarkedCount>
            </Parameters>
            <Actions>
                <Action>
                    <Type>LoseLevelAction</Type>
                </Action>
            </Actions>
        </Condition>
    </Level>

    <Level>
        <LevelId>1</LevelId>
        <Resources>400</Resources>
        <Lives>20</Lives>
        <BackgroundImage>southparkback.png</BackgroundImage>
        <AvailablePrototypes>0 2 4 5 6 8 9</AvailablePrototypes>
        <SoundFile>southparktheme.mp3</SoundFile>

        <Wave>
            <Queue>4 8 9 4 9 4 8 9 4 9 9 4 8 8 8 5 9 9 4 9 5 4 9 4 5 4 9 8 8 5 4 4 9 5 4 8 4 5 4 8 4 5 9 4 4 9 5</Queue>
            <Interval>1</Interval>
            <SpawnPointX>0</SpawnPointX>
            <SpawnPointY>560</SpawnPointY>
            <Path>72,560;148,561;244,561;362,562;460,565;542,565;630,564;675,560;725,528;735,500;740,483;668,484;576,483;464,489;413,490;124,489;67,486;62,429;66,383</Path>
        </Wave>

        <Condition>
            <ConditionId>0</ConditionId>
            <Type>OnscreenArchetypeCountCondition</Type>
            <Parameters>
                <MarkedCount>0</MarkedCount>
                <Archetype>ENEMY</Archetype>
                <Classification>CONTINUOUS</Classification>
            </Parameters>
            <Actions>
                <Action>
                    <Type>SpawnWaveAction</Type>
                </Action>
            </Actions>
        </Condition>
        <Condition>
            <ConditionId>2</ConditionId>
            <Type>EnemiesClearedCondition</Type>
            <Parameters>
            </Parameters>
            <Actions>
                <Action>
                    <Type>WinLevelAction</Type>
                </Action>
            </Actions>
        </Condition>
        <Condition>
            <ConditionId>3</ConditionId>
            <Type>LivesCountCondition</Type>
            <Parameters>
                <MarkedCount>0</MarkedCount>
            </Parameters>
            <Actions>
                <Action>
                    <Type>LoseLevelAction</Type>
                </Action>
            </Actions>
        </Condition>
    </Level>
</GameConfiguration>